<!DOCTYPE html>
<html>
<head>
    <title>Round {{ round_number }} Generation Start - Phonitale Experiment</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/antd/4.23.3/antd.min.css" />
    <link rel="stylesheet" href="/static/style.css">
    <link rel="stylesheet" href="{{ url_for('static', path='/css/custom.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', path='/css/header.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', path='/css/sidebar.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', path='/fonts/fonts.css') }}">
    <style>
        /* Global styles */
        body { font-family: sans-serif; }
        #root {}
        .ant-layout-content { padding: 0; margin: 0; }
    </style>
</head>
<body data-round-number="{{ round_number }}">
    <div id="root"></div>

    <!-- React, ReactDOM, Ant Design, Icons, Moment -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/17.0.2/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/17.0.2/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/antd/4.23.3/antd.min.js"></script>
    <script src="https://unpkg.com/@ant-design/icons@4.7.0/dist/index.umd.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>

    <!-- Common Components -->
    <script src="/static/js/common_components.js" type="text/babel"></script>

    <!-- Babel -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.min.js"></script>

    {% raw %}
    <script type="text/babel">
        if (typeof window.MainLayout === 'undefined' || typeof window.PhaseStartContent === 'undefined') {
            console.error('Core layout or PhaseStartContent component not loaded!');
            ReactDOM.render(<div>Error: Core components failed to load.</div>, document.getElementById('root'));
        } else {
      const roundNumber = document.body.getAttribute('data-round-number') || '1';

            // Define props for the Generation phase
            const generationPhaseProps = {
                roundNumber: roundNumber,
                phaseTitle: "영어 단어 쓰기 테스트", // Figma 기준 타이틀
                titleBackgroundColor: "#C0B86C", // Figma color
                instructions: `답변 시간은 단어당 30초입니다.\n원할 때 다음 단어로 이동 가능하지만, 이전 단어로는 돌아갈 수 없습니다.`,
                nextPageUrl: `/round/${roundNumber}/generation`
            };

            ReactDOM.render(
                <window.MainLayout>
                    <window.PhaseStartContent {...generationPhaseProps} />
                </window.MainLayout>,
                document.getElementById('root')
            );
        }
    </script>
    {% endraw %}
</body>
</html> 